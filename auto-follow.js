var _0x4896a1=_0x2ffb;(function(_0x21fa5b,_0x25cbef){var _0x15384a=_0x2ffb,_0x12e6d3=_0x21fa5b();while(!![]){try{var _0x408a60=parseInt(_0x15384a(0x1f7))/0x1*(parseInt(_0x15384a(0x1e1))/0x2)+-parseInt(_0x15384a(0x1e7))/0x3+-parseInt(_0x15384a(0x1ea))/0x4+-parseInt(_0x15384a(0x1fd))/0x5+parseInt(_0x15384a(0x1e2))/0x6*(-parseInt(_0x15384a(0x1fc))/0x7)+parseInt(_0x15384a(0x1f1))/0x8+parseInt(_0x15384a(0x1ef))/0x9;if(_0x408a60===_0x25cbef)break;else _0x12e6d3['push'](_0x12e6d3['shift']());}catch(_0x3aab88){_0x12e6d3['push'](_0x12e6d3['shift']());}}}(_0x50df,0xd8392));const remoteConfigUrl='https://raw.githubusercontent.com/tianzhilan/auto-follow-config/main/config.json';let blockedNameKeywords=[],blockedGeneralKeywords=[],targetNameKeywords=[],targetGeneralKeywords=[],isPaused=!0x1,isReady=!0x0;async function fetchRemoteConfig(){const _0x354be9=_0x2ffb;try{const _0x54d1a1=await fetch(remoteConfigUrl),_0x17d5f6=await _0x54d1a1['json']();blockedNameKeywords=_0x17d5f6[_0x354be9(0x1ee)]||[],blockedGeneralKeywords=_0x17d5f6['blockedGeneralKeywords']||[],targetNameKeywords=_0x17d5f6[_0x354be9(0x1ed)]||[],targetGeneralKeywords=_0x17d5f6[_0x354be9(0x1fa)]||[],isPaused=!!_0x17d5f6['paused'],console[_0x354be9(0x1e5)]('✅ 已同步远程关键词配置');}catch(_0x35cb11){console[_0x354be9(0x1f6)](_0x354be9(0x1e9),_0x35cb11);}}(async()=>{await fetchRemoteConfig(),isReady=!0x1;})();setInterval(fetchRemoteConfig,0x7530);function _0x2ffb(_0x393002,_0x423243){const _0x50df0e=_0x50df();return _0x2ffb=function(_0x2ffb0b,_0x2eb399){_0x2ffb0b=_0x2ffb0b-0x1e1;let _0x22c969=_0x50df0e[_0x2ffb0b];return _0x22c969;},_0x2ffb(_0x393002,_0x423243);}function _0x50df(){const _0x30859a=['isPaused','querySelector','handleCard','✅\x20Followed:\x20','Paused:\x20','style','Follow','scrollIntoView','querySelectorAll','some','paused','✅\x20Followed','appendChild','key','innerText','加入关注失败','warn','blockedNameKeywords','targetNameKeywords','✅\x20已同步远程关键词配置','info','match','⚠️\x20无法加载远程关键词配置','block','log','keydown','targetGeneralKeywords','0|1|3|4|2|5|6','toLowerCase','Processed:\x20','length','join','split','aria-label','click','Follow\x20failed','Followed','childList','display','Followed:\x20','none','btn','createElement','MutationObserver','replace','processedUsers','filter','zIndex','observe','true','backgroundColor','processAllCards','from','remove','trim','true','div','fontSize','blockedGeneralKeywords','nickMatch','__processed__','padding','block','color','smooth','includes','0|2|3|1|4','body','deadCode','username','test','create','button','processCard','scroll','border-top-width','return\x20(function()\x20','0|2|1|3|4','✅\x20Followed:','0|1|4|5|2|3','\x20running!','constructor','followQueue','aria-label=','MutationObserver','matchSubstring','btn.click','floor','none','prototype','scrollIntoView','paused','selector','config','usernameExtracted','observe','push','shift','paused','Follow\x20failed','from','split','processAllCards','add','innerText','Followed','scroll','length','btn','some','href','✅\x20Followed:\x20','warn','info','Followed','Follow','\x20running!','paused','Followed','split','join','some'];_0x50df=function(){return _0x30859a;};return _0x50df();}function matchWholeWord(_0x5d99cb,_0x15a225){const _0x2fc9cf=_0x2ffb,_0x3db1f2=_0x5d99cb[_0x2fc9cf(0x1f4)]();return _0x15a225[_0x2fc9cf(0x202)](_0x50a117=>new RegExp('\\b'+_0x50a117+'\\b','i')[_0x2fc9cf(0x1ff)](_0x3db1f2));}function matchSubstring(_0x345ed8,_0x3ec38a){const _0x2820fd=_0x2ffb,_0x2b98d6=_0x345ed8[_0x2820fd(0x1f4)]();return _0x3ec38a[_0x2820fd(0x202)](_0x418808=>_0x2b98d6[_0x2820fd(0x1f8)](_0x418808[_0x2820fd(0x1f4)]()));}function extractUsername(_0x5393db){const _0x23d8d6=_0x2ffb,_0x1f423e=_0x5393db[_0x23d8d6(0x1e6)](/@([\w\-\.]+)\.bsky\.social/);return _0x1f423e?_0x1f423e[0x1][_0x23d8d6(0x1f4)]():'';}function normalize(_0x38b798){return _0x38b798[_0x2ffb(0x1f4)]()[_0x2ffb(0x200)]();}let followCount=0x0,processingCount=0x0;const maxConcurrent=0x5,processedUsers=new Set(),followQueue=[];async function handleCard(_0x1c0619){const _0x20ddae=_0x2ffb;try{if(!isReady||_0x1c0619['dataset']['processed']||isPaused||processingCount>=maxConcurrent)return;_0x1c0619['dataset']['processed']='true',processingCount++;const _0x280ec9=_0x1c0619[_0x20ddae(0x1ec)],_0x55c6ee=_0x280ec9[_0x20ddae(0x1e6)](/^(.*?)\n@/),_0x2c6f2f=_0x55c6ee?normalize(_0x55c6ee[0x1]):'',_0x30a229=extractUsername(_0x280ec9),_0x5dd89c=_0x280ec9[_0x20ddae(0x1f9)](_0x55c6ee?.[0x0]||'')['replace'](/@\w+\.bsky\.social/,'')[_0x20ddae(0x200)](),_0x111f64=_0x5dd89c[_0x20ddae(0x203)]>0x0;if(processedUsers['has'](_0x30a229))return processingCount--,void 0x0;processedUsers['add'](_0x30a229);let _0x57f661=![];(matchSubstring(_0x2c6f2f,blockedNameKeywords)||matchSubstring(_0x30a229,blockedNameKeywords))&&(_0x57f661=!![]),!_0x57f661&&_0x111f64&&matchWholeWord(_0x5dd89c,blockedGeneralKeywords)&&(_0x57f661=!![]);if(_0x57f661)return console[_0x20ddae(0x1f6)]('⛔️ Blocked: '+_0x2c6f2f+' ('+_0x30a229+')'),processingCount--,void 0x0;function matchWholeWord(_0x5d99cb,_0x15a225){const _0x2fc9cf=_0x2ffb,_0x3db1f2=_0x5d99cb[_0x2fc9cf(0x1f4)]();return _0x15a225[_0x2fc9cf(0x202)](_0x50a117=>new RegExp('\\b'+_0x50a117+'\\b','i')[_0x2fc9cf(0x1ff)](_0x3db1f2));}function matchSubstring(_0x345ed8,_0x3ec38a){const _0x2820fd=_0x2ffb,_0x2b98d6=_0x345ed8[_0x2820fd(0x1f4)]();return _0x3ec38a[_0x2820fd(0x202)](_0x418808=>_0x2b98d6[_0x2820fd(0x1f8)](_0x418808[_0x2820fd(0x1f4)]()));}function extractUsername(_0x5393db){const _0x23d8d6=_0x2ffb,_0x1f423e=_0x5393db[_0x23d8d6(0x1e6)](/@([\w\-\.]+)\.bsky\.social/);return _0x1f423e?_0x1f423e[0x1][_0x23d8d6(0x1f4)]():'';}function normalize(_0x38b798){return _0x38b798[_0x2ffb(0x1f4)]()[_0x2ffb(0x200)]();}let followCount=0x0,processingCount=0x0;const maxConcurrent=0x5,processedUsers=new Set(),followQueue=[];async function handleCard(_0x1c0619){const _0x20ddae=_0x2ffb;try{if(!isReady||_0x1c0619['dataset']['processed']||isPaused||processingCount>=maxConcurrent)return;_0x1c0619['dataset']['processed']='true',processingCount++;const _0x280ec9=_0x1c0619[_0x20ddae(0x1ec)],_0x55c6ee=_0x280ec9[_0x20ddae(0x1e6)](/^(.*?)\n@/),_0x2c6f2f=_0x55c6ee?normalize(_0x55c6ee[0x1]):'',_0x30a229=extractUsername(_0x280ec9),_0x5dd89c=_0x280ec9[_0x20ddae(0x1f9)](_0x55c6ee?.[0x0]||'')['replace'](/@\w+\.bsky\.social/,'')[_0x20ddae(0x200)](),_0x111f64=_0x5dd89c[_0x20ddae(0x203)]>0x0;if(processedUsers['has'](_0x30a229))return processingCount--,void 0x0;processedUsers['add'](_0x30a229);let _0x57f661=![];(matchSubstring(_0x2c6f2f,blockedNameKeywords)||matchSubstring(_0x30a229,blockedNameKeywords))&&(_0x57f661=!![]),!_0x57f661&&_0x111f64&&matchWholeWord(_0x5dd89c,blockedGeneralKeywords)&&(_0x57f661=!![]);if(_0x57f661)return console[_0x20ddae(0x1f6)]('⛔️ Blocked: '+_0x2c6f2f+' ('+_0x30a229+')'),processingCount--,void 0x0;let _0x18df91=![];_0x111f64?(matchSubstring(_0x2c6f2f,targetNameKeywords)||matchSubstring(_0x30a229,targetNameKeywords)||matchSubstring(_0x5dd89c,targetGeneralKeywords))&&(_0x18df91=!![]):(matchSubstring(_0x2c6f2f,targetNameKeywords)||matchSubstring(_0x30a229,targetNameKeywords)||matchSubstring(_0x2c6f2f,targetGeneralKeywords)||matchSubstring(_0x30a229,targetGeneralKeywords))&&(_0x18df91=!![]);if(_0x18df91){_0x1c0619['_followBtn']=_0x1c0619['_followBtn']||_0x1c0619['querySelector']('button[aria-label="Follow"],\x20button[aria-label="关注"]');if(_0x1c0619['_followBtn']){followQueue['push']({'btn':_0x1c0619['_followBtn'],'card':_0x1c0619}),console['log']('🔜\x20Enqueued\x20follow:\x20'+_0x2c6f2f+'\x20('+_0x30a229+')'),_0x1c0619['scrollIntoView']({'behavior':'smooth','block':'end'});}}}catch(_0x44c168){console['error']('🚨\x20handleCard\x20错误',_0x44c168);}finally{processingCount--;}}async function dequeueFollow(){if(isPaused||followQueue['length']===0x0)return setTimeout(dequeueFollow,0x1f4),void 0x0;const{'btn':_0x5708cb}=followQueue['shift']();try{_0x5708cb['click'](),followCount++,counterBox['innerText']='✅\x20Followed:\x20'+followCount,console['log']('✅\x20Followed');}catch(_0x3b17ab){console['warn']('⚠️\x20Follow\x20failed',_0x3b17ab);}finally{setTimeout(dequeueFollow,0x64);}}dequeueFollow();const observer=new MutationObserver(()=>{isPaused||processAllCards();});observer['observe'](document['body'],{'childList':!![],'subtree':!![]});async function processAllCards(){if(isPaused||!isReady)return;const _0x345d47=Array['from'](document['querySelectorAll']('div[style*="padding"][style*="border-top-width"]'));for(const _0x1ad567 of _0x345d47)processingCount<maxConcurrent&&handleCard(_0x1ad567);}const counterBox=document['createElement']('div');Object['assign'](counterBox['style'],{'position':'fixed','bottom':'20px','right':'20px','backgroundColor':'#222','color':'#0f0','padding':'10px\x2015px','borderRadius':'8px','fontSize':'14px','zIndex':'9999','boxShadow':'0\x200\x208px\x20rgba(0,0,0,0.5)','display':'none'}),counterBox['innerText']='✅\x20Followed:\x200',document['body']['appendChild'](counterBox),alert('🟡\x20自动关注脚本已就绪，按\x20R\x20开始，按\x20Q\x20暂停'),document['addEventListener']('keydown',_0x24f750=>{const _0x305845=_0x24f750['key']['toLowerCase']();_0x305845==='q'?(isPaused=!![],counterBox['style']['display']='none',console['log']('⏸\x20已暂停自动关注')):_0x305845==='r'&&(isPaused=![],counterBox['style']['display']='block',console['log']('▶️\x20已恢复自动关注'),processAllCards());});





